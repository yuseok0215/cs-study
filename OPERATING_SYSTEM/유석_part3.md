## 📚 16. Thrashing 이란 무엇인가요?
특정 프로그램을 실행하기 위해 CPU가 메모리 접근을 하는데, 페이지 부재가 자주 발생하는 상황을 Thrashing이라고 한다. 컴퓨터에 여러 프로그램이 동시에 메모리에 올라가게 되고 프로그램마다 메모리 할당량이 다르기 때문에 OS가 특정 프로그램한테 메모리를 너무 적게 할당해줄 때 발생한다.

> 16-1. Thrashing 발생 시, 어떻게 완화할 수 있을까요?

working set 알고리즘 방법이 있습니다. working set의 개수만큼 메모리 용량을 받지 못한다면 그 프로세스의 메모리를 빼앗아서 스레싱을 방지하는 알고리즘입니다. 어떤 프로그램이 실행될 때 메모리에 꼭 올라와 있어야 하는 페이지의 집합을 working set라고 하고, working set 알고리즘이 그것을 보장해줍니다.

pff 알고리즘 방법도 있는데 이 방법으 경우는 프로그램 개수를 조절하면서 스레싱을 방지한다는 것은 동일하지만, working set을 추정하기 보단 페이지 부재율을 보면서 조절한다는 차이가 있습니다.

## 📚 17. 가상 메모리란 무엇인가요?
가상 메모리는 컴퓨터 시스템에서 실제 물리적 메모리의 크기에 관계없이, 프로그램이 사용할 수 있는 메모리 공간을 확장하는 기술입니다. 운영체제가 하드디스크의 일부 공간을 가상 메모리로 활용하여, 물리 메모리가 부족할 때에도 프로그램이 계속 실행될 수 있도록 돕습니다.

> 17-1. 가상 메모리가 가능한 이유가 무엇일까요?

가상 메모리가 가능한 이유는 ‘주소 변환’ 때문입니다. 구체적으로 CPU가 프로그래밍에서 사용하는 주소를 실제 메모리 주소로 변환하는 장치가 있어서 가능합니다.

> 17-2. Page Fault가 발생했을 때, 어떻게 처리하는지 설명해 주세요.

CPU가 메모리에 접근한 뒤 MMU가 해당 가상 주소를 변환하려다 실패합니다. 그 후 CPU가 바로 OS에게 page fault알림니다.그리고 필요한 데이터를 디스크에서 읽어오고 페이지 테이블을 갱신합니다. 실패했던 명령을 다시 시도합니다.

> 17-3. 페이지 크기에 대한 Trade-Off를 설명해 주세요.

페이지 크기가 작으면 필요한 만큼만 메로리 할당이 가능하기 때문에 메모리 낭비가 줄며, 프로그램이 자주 사용하는 작은 데이터만 올리니까 캐시 효율이 좋아질 수 있습니다. 단점은 페이지 테이블 크기가 커지고 I/O 작업이 빈번해질 수 있습니다.

> 17-4. 페이지 크기가 커지면, 페이지 폴트가 더 많이 발생한다고 할 수 있나요?

페이지 크기가 커진다고 해서 무조건 페이지 폴트가 더 많이 발생하는 것은 아닙니다. 페이지 폴트는 메모리에 필요한 데이터가 없을 때 발생하는데 페이지가 크면, 한 번의 디스크 접근으로 더 많은 데이터를 메모리에 가져올 수 있습니다. 즉, 한번 페이지를 불러오면 추후 접근할 데이터까지 이미 메모리에 있을 가능성이 커져서 페이지 폴트 발생 빈도가 감소할 수 있습니다.

> 17-5. 세그멘테이션 방식을 사용하고 있다면, 가상 메모리를 사용할 수 없을까요?

세그먼테이션은 가상 메모리를 관리하는 또 다른 기법으로, 프로그램을 논리적으로 관련 있는 여러 세그먼트로 나누어 메모리를 할당하는 방식입니다. 세그먼트는 크기가 가변적이며, 각각의 세그먼트를 코드, 데이터, 스택, 힙 등과 같은 논리적인 단위로 나눌 수 있습니다. 

세그먼테이션을 사용해도 가상 메모리는 충분히 사용할 수 있습니다. 각 세그먼트에 대해 가상 주소를 물리 주소로 변환하고 만약 그 세그멘트가 물리 메모리에 없다면, 페이지 폴트처럼 세그먼트 폴트를 발생시켜서 OS가 필요한 세그먼트 데이터를 디스크에서 불러오면 됩니다.
